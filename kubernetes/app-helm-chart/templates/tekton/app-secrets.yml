{{- if .Values.platform.createTektonResources -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.platform.secretName }}
  namespace: {{ .Values.platform.namespace }}
type: Opaque
stringData:
  env: {{ .Values.environment }}
  env-prefix: {{ .Values.envPrefix }}
  app-name: {{ .Values.appName }}
  app-port: {{ .Values.appPort }}
  app-iam-role-arn: {{ .Values.appIAMRoleARN }}
  app-slug-name: {{ .Values.appSlugName }}
  product-name: {{ .Values.productName }}
  github-token: {{ .Values.secretData.githubToken }}
  ecr-repo-url: {{ .Values.secretData.ecrRepoUrl }}
  ssh-deploy-key: {{ .Values.secretData.sshDeployKey | toYaml | indent 1 }}
{{- end -}}
